<!DOCTYPE html>
<html class="writer-html5" lang="en" data-content_root="./">
<head>
  <meta charset="utf-8" /><meta name="viewport" content="width=device-width, initial-scale=1" />

  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Voici la documentation officielle de OC-Lettings. &mdash; ReadTheDocsOCLettings  documentation</title>
      <link rel="stylesheet" type="text/css" href="_static/pygments.css?v=80d5e7a1" />
      <link rel="stylesheet" type="text/css" href="_static/css/theme.css?v=19f00094" />

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="_static/jquery.js?v=5d32c60e"></script>
        <script src="_static/_sphinx_javascript_frameworks_compat.js?v=2cd50e6c"></script>
        <script src="_static/documentation_options.js?v=5929fcd5"></script>
        <script src="_static/doctools.js?v=888ff710"></script>
        <script src="_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="_static/js/theme.js"></script>
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="#" class="icon icon-home">
            ReadTheDocsOCLettings
          </a>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <!-- Local TOC -->
              <div class="local-toc"><ul>
<li><a class="reference internal" href="#">Voici la documentation officielle de OC-Lettings.</a></li>
<li><a class="reference internal" href="#introduction">Introduction</a></li>
<li><a class="reference internal" href="#installation">Installation :</a><ul>
<li><a class="reference internal" href="#prerequis">Prérequis</a></li>
<li><a class="reference internal" href="#lancement-du-serveur">Lancement du serveur:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#verification-du-linting">Vérification du Linting</a></li>
<li><a class="reference internal" href="#lancement-des-tests">Lancement des tests</a><ul>
<li><a class="reference internal" href="#pour-les-tests-utilisez-la-commande-suivante">Pour les tests, utilisez la commande suivante:</a></li>
<li><a class="reference internal" href="#pour-voir-la-couverture-des-tests-utilisez-la-commande-suivante">Pour voir la couverture des tests, utilisez la commande suivante:</a></li>
<li><a class="reference internal" href="#pour-acceder-a-la-journalisation">Pour accéder à la journalisation:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#deploiement-et-integration-continue">Déploiement et intégration continue</a><ul>
<li><a class="reference internal" href="#id1">Prérequis:</a></li>
<li><a class="reference internal" href="#configuration">Configuration:</a></li>
</ul>
</li>
<li><a class="reference internal" href="#indices-and-tables">Indices and tables</a></li>
</ul>
</div>
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="#">ReadTheDocsOCLettings</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="#" class="icon icon-home" aria-label="Home"></a></li>
      <li class="breadcrumb-item active">Voici la documentation officielle de OC-Lettings.</li>
      <li class="wy-breadcrumbs-aside">
            <a href="_sources/index.rst.txt" rel="nofollow"> View page source</a>
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <section id="voici-la-documentation-officielle-de-oc-lettings">
<h1><a class="toc-backref" href="#id2" role="doc-backlink">Voici la documentation officielle de OC-Lettings.</a><a class="headerlink" href="#voici-la-documentation-officielle-de-oc-lettings" title="Link to this heading"></a></h1>
<div class="toctree-wrapper compound">
</div>
<nav class="contents" id="index">
<p class="topic-title">Index</p>
<ul class="simple">
<li><p><a class="reference internal" href="#voici-la-documentation-officielle-de-oc-lettings" id="id2">Voici la documentation officielle de OC-Lettings.</a></p></li>
<li><p><a class="reference internal" href="#introduction" id="id3">Introduction</a></p></li>
<li><p><a class="reference internal" href="#installation" id="id4">Installation :</a></p>
<ul>
<li><p><a class="reference internal" href="#prerequis" id="id5">Prérequis</a></p></li>
<li><p><a class="reference internal" href="#lancement-du-serveur" id="id6">Lancement du serveur:</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#verification-du-linting" id="id7">Vérification du Linting</a></p></li>
<li><p><a class="reference internal" href="#lancement-des-tests" id="id8">Lancement des tests</a></p>
<ul>
<li><p><a class="reference internal" href="#pour-les-tests-utilisez-la-commande-suivante" id="id9">Pour les tests, utilisez la commande suivante:</a></p></li>
<li><p><a class="reference internal" href="#pour-voir-la-couverture-des-tests-utilisez-la-commande-suivante" id="id10">Pour voir la couverture des tests, utilisez la commande suivante:</a></p></li>
<li><p><a class="reference internal" href="#pour-acceder-a-la-journalisation" id="id11">Pour accéder à la journalisation:</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#deploiement-et-integration-continue" id="id12">Déploiement et intégration continue</a></p>
<ul>
<li><p><a class="reference internal" href="#id1" id="id13">Prérequis:</a></p></li>
<li><p><a class="reference internal" href="#configuration" id="id14">Configuration:</a></p></li>
</ul>
</li>
<li><p><a class="reference internal" href="#indices-and-tables" id="id15">Indices and tables</a></p></li>
</ul>
</nav>
</section>
<section id="introduction">
<h1><a class="toc-backref" href="#id3" role="doc-backlink">Introduction</a><a class="headerlink" href="#introduction" title="Link to this heading"></a></h1>
<p>Ceci est une version améliorée de l’application OC-Lettings.
Les améliorations apportées sont :</p>
<blockquote>
<div><ul class="simple">
<li><p>Une amélioration du code et un respect des bonnes pratiques avec l’implémentation d’une architecture modulaire.</p></li>
<li><p><strong>Sentry</strong> Implémentation de la journalisation de l’application avec Sentry.</p></li>
<li><p><strong>CircleCI</strong> Mise en place d’un pipeline CI/CD.</p></li>
<li><p><strong>Heroku</strong> Le déploiement de l’application sur Heroku</p></li>
</ul>
</div></blockquote>
</section>
<section id="installation">
<h1><a class="toc-backref" href="#id4" role="doc-backlink">Installation :</a><a class="headerlink" href="#installation" title="Link to this heading"></a></h1>
<section id="prerequis">
<h2><a class="toc-backref" href="#id5" role="doc-backlink">Prérequis</a><a class="headerlink" href="#prerequis" title="Link to this heading"></a></h2>
<ul class="simple">
<li><p>Python 3.9 (au minimum)</p></li>
<li><p>Un IDE de votre choix</p></li>
<li><p>Un compte GitHub</p></li>
<li><p>Installer GIT CLI</p></li>
</ul>
<p>Créez un environnement virtuel Python :</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>-m<span class="w"> </span>venv<span class="w"> </span>env
</pre></div>
</div>
<p>Activez l’environnement virtuel :
<strong>Windows</strong></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>env/scripts/activate
</pre></div>
</div>
<p><strong>Linux et MacOS</strong></p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">source</span><span class="w"> </span>env/bin/activate
</pre></div>
</div>
<p>Clonez le répertoire GitHub:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/ChristopherOC/P13OC.git
</pre></div>
</div>
</section>
<section id="lancement-du-serveur">
<h2><a class="toc-backref" href="#id6" role="doc-backlink">Lancement du serveur:</a><a class="headerlink" href="#lancement-du-serveur" title="Link to this heading"></a></h2>
<p>Pout lancer le serveur de l’application localement :</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span><span class="w"> </span>Python-OC-Lettings-FR
</pre></div>
</div>
<p>Installez ensuite les dépendances nécessaires au bon fonctionnement de celui-ci :</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pip<span class="w"> </span>install<span class="w"> </span>-r<span class="w"> </span>requirements.txt
</pre></div>
</div>
<p>Lancez ensuite le serveur localement :</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>python<span class="w"> </span>manage.py<span class="w"> </span>runserver
</pre></div>
</div>
<p>Si vous souhaitez accéder au Panneau Administrateur, accédez à l’url suivante:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>http://localhost:8000/admin
</pre></div>
</div>
<p>Les identifiants pour se connecter sont les suivants:</p>
<p>Identifiant : Admin</p>
<p>Mot de passe : Abc1234!</p>
</section>
</section>
<section id="verification-du-linting">
<h1><a class="toc-backref" href="#id7" role="doc-backlink">Vérification du Linting</a><a class="headerlink" href="#verification-du-linting" title="Link to this heading"></a></h1>
<p>Pour vérifier que le code respecte les bonnes pratiques et la nomenclature, utilisez la commande suivante.
Celle-ci effectuera des vérifications telles que l’utilisation des imports ou encore la longueur des lignes.</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>ruff<span class="w"> </span>check<span class="w"> </span>.
</pre></div>
</div>
</section>
<section id="lancement-des-tests">
<h1><a class="toc-backref" href="#id8" role="doc-backlink">Lancement des tests</a><a class="headerlink" href="#lancement-des-tests" title="Link to this heading"></a></h1>
<p>Pour lancer les tests et voir la couverture de ceux-ci sur l’ensemble du code nous utiliserons Pytest et Coverage.</p>
<section id="pour-les-tests-utilisez-la-commande-suivante">
<h2><a class="toc-backref" href="#id9" role="doc-backlink">Pour les tests, utilisez la commande suivante:</a><a class="headerlink" href="#pour-les-tests-utilisez-la-commande-suivante" title="Link to this heading"></a></h2>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>pytest<span class="w"> </span>-v
</pre></div>
</div>
</section>
<section id="pour-voir-la-couverture-des-tests-utilisez-la-commande-suivante">
<h2><a class="toc-backref" href="#id10" role="doc-backlink">Pour voir la couverture des tests, utilisez la commande suivante:</a><a class="headerlink" href="#pour-voir-la-couverture-des-tests-utilisez-la-commande-suivante" title="Link to this heading"></a></h2>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>coverage<span class="w"> </span>run<span class="w"> </span>-m<span class="w"> </span>pytest
</pre></div>
</div>
<p>Puis pour générer le raport montrant le pourcentage de la couverture:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>coverage<span class="w"> </span>report
</pre></div>
</div>
</section>
<section id="pour-acceder-a-la-journalisation">
<h2><a class="toc-backref" href="#id11" role="doc-backlink">Pour accéder à la journalisation:</a><a class="headerlink" href="#pour-acceder-a-la-journalisation" title="Link to this heading"></a></h2>
<p>Connezctez-vous à votre compte Sentry, récupérez votre clef DSN puis dans le fichier <code class="docutils literal notranslate"><span class="pre">settings.py</span></code> saisissez-la dans la fonction suivante:</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sentry_sdk.init<span class="o">(</span><span class="nv">sdn</span><span class="o">=</span><span class="s2">&quot;Votre_clef&quot;</span><span class="o">)</span>
</pre></div>
</div>
<p>Maintenant vous devriez avoir accès à la journalisation de votre application et d’y voir toute les erreurs levées.</p>
</section>
</section>
<section id="deploiement-et-integration-continue">
<h1><a class="toc-backref" href="#id12" role="doc-backlink">Déploiement et intégration continue</a><a class="headerlink" href="#deploiement-et-integration-continue" title="Link to this heading"></a></h1>
<section id="id1">
<h2><a class="toc-backref" href="#id13" role="doc-backlink">Prérequis:</a><a class="headerlink" href="#id1" title="Link to this heading"></a></h2>
<p>Pour que tout puisse fonctionner, il est nécessaire d’avoir :</p>
<ul class="simple">
<li><p>Un compte GitHub</p></li>
<li><p>Un compte Docker</p></li>
<li><p>Un compte CircleCI</p></li>
<li><p>Un compte Heroku</p></li>
</ul>
<p>Le déploiement automatique s’effectue lorsque l’utilisateur “push” l’application vers GitHub.
Lorsque le “push” s’effectue sur la branche “Master”, le linting et les tests sont lancés automatiquements.
Si l’un des deux ne réussit pas, alors le déploiement ne fonctionnera pas.
Si ceux-ci sont passés sans encombre alors le déploiement s’effectue.</p>
</section>
<section id="configuration">
<h2><a class="toc-backref" href="#id14" role="doc-backlink">Configuration:</a><a class="headerlink" href="#configuration" title="Link to this heading"></a></h2>
<p>Il est nécessaire d’utiliser les variables d’environnement afin de garantir la sécurité et la confidentialité de l’application.
Pour cela, rendez-vous sur CircleCI puis dans “Project Settings” et “Environment Variables” afin de créer les varibales suivantes avec vos informations:</p>
<p>DOCKER_USERNAME : Votre username Docker</p>
<p>DOCKER_PASSWORD : Votre mot de passe Docker</p>
<p>HEROKU_APP_NAME : Le nom de votre application sur Heroku</p>
<p>HEROKU_KEY : Votre clé d’API Heroku</p>
<p>Lien de l’application en ligne :</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>https://lettingsheroku-ff8587e22918.herokuapp.com/
</pre></div>
</div>
<p>A chaque “push” sur GitHub, le pipeline effectuera donc les tests et le linting.
Pour les ajuster, rendez-vous dans le fichier <code class="docutils literal notranslate"><span class="pre">config.yml</span></code>.</p>
</section>
</section>
<section id="indices-and-tables">
<h1><a class="toc-backref" href="#id15" role="doc-backlink">Indices and tables</a><a class="headerlink" href="#indices-and-tables" title="Link to this heading"></a></h1>
<ul class="simple">
<li><p><a class="reference internal" href="genindex.html"><span class="std std-ref">Index</span></a></p></li>
<li><p><a class="reference internal" href="py-modindex.html"><span class="std std-ref">Module Index</span></a></p></li>
<li><p><a class="reference internal" href="search.html"><span class="std std-ref">Search Page</span></a></p></li>
</ul>
</section>


           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2024, CRene.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>